
###  什么是守护线程
守护线程相对于正常线程来说，是比较特殊的一类线程，那么它特殊在哪里呢？别急，在了解它之前，我们需要知道一个问题，那就是：

***JVM 程序在什么情况下能够正常退出***

上面这句话来自 JDK 官方文档，意思是：

当 JVM 中不存在任何一个正在运行的非守护线程时，则 JVM 进程即会退出。



![1721986540064.png](https://qiniu.muluofeng.com/1721986540064.png)


①：创建一个非守护线程；
②：模拟非守护线程不退出的情况；
③：启动线程;
④：主线程即将退出;
运行这段代码，猜猜看，JVM 进程是否能够正常退出呢？


![1721986562502.png](https://qiniu.muluofeng.com/1721986562502.png)

可以看到因为有一个非守护线程一直在后台运行着，JVM 无法正常退出。那么，如果说正在运行的是个守护线程，结果又会怎么样呢？


![1721986599163.png](https://qiniu.muluofeng.com/1721986599163.png)


再次运行代码，瞅瞅效果：


![1721986779988.png](https://qiniu.muluofeng.com/1721986779988.png)

可以看到，当主线程退出时，JVM 会随之退出运行，守护线程同时也会被回收，即使你里面是个死循环也不碍事。


### 守护线程的作用及应用场景

上面，我们已经知道了，如果 JVM 中没有一个正在运行的非守护线程，这个时候，JVM 会退出。换句话说，守护线程拥有自动结束自己生命周期的特性，而非守护线程不具备这个特点。

JVM 中的垃圾回收线程就是典型的守护线程，如果说不具备该特性，会发生什么呢？

当 JVM 要退出时，由于垃圾回收线程还在运行着，导致程序无法退出，这就很尴尬了！！！由此可见，守护线程的重要性了。

通常来说，守护线程经常被用来执行一些后台任务，但是呢，你又希望在程序退出时，或者说 JVM 退出时，线程能够自动关闭，此时，守护线程是你的首选。

